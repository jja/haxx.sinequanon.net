<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>haxx qua non - Grails testing</title>
  <meta name="description" content="tips and tricks from a working coder">
  <link rel="stylesheet" type="text/css" href="/css/site.css" />
</head>
<body>

  <header>
    <h1>
      <a class="header-span plain" rel="home" href="http://haxx.sinequanon.net/">haxx qua non</a>
    </h1>
  </header>

  <article>

      <h1>Grails testing</h1>

      <section id="meta">

          <div id="byline">
            by jja
            on <time datetime="2008-09-23T13:10:37-0600">2008-09-23</time>
          </div>

          Topics: <ul id="tags">
              <li class="tagitem">
                <a class="tag" href="/tag/grails">grails</a>
              </li>
              <li class="tagitem">
                <a class="tag" href="/tag/junit">junit</a>
              </li>
              <li class="tagitem">
                <a class="tag" href="/tag/testing">testing</a>
              </li>
          </ul>

      </section>

      <section id="post_content">

        <p>The <a href="http://grails.org/">Grails</a> <a href="http://grails.org/doc/1.0.x/">docs</a>
talk about testing and have some example test methods but fail to describe some
simple but necessary mechanics to get it going. The test methods should be in
a class that extends <code>GroovyTestCase</code> (that word doesn&#39;t appear at all when
searching the Grails website). The class name must end with <code>Tests</code> since it
must be in a file with a name ending in <code>Tests.groovy</code> under the <code>test</code>
directory of your grails project.</p>
<!-- more -->
<p>For example:</p>
<pre><code>test/unit/FooTests.groovy:
class FooTests extends GroovyTestCase {
    void testOne() {
        assertTrue(1==1);
    }
}
</code></pre><p><a href="http://groovy.codehaus.org/Unit+Testing">GroovyTestCase</a>
is described some by the Groovy docs; it extends Junit&#39;s <code>TestCase</code>.
Note that Grails 1.0.3 includes the Junit 3.8.2 JAR file. To get docs, go to the
<a href="http://junit.org/">Junit website</a> then to <code>JUnit Releases</code> and download and unpack
<a href="http://downloads.sourceforge.net/junit/junit3.8.1.zip">version 3.8.1</a>
(there is no 3.8.2 there; it must be a Grails fix).</p>
<p>If you must, you can also have Java tests (calling Groovy/Grails objects from
Java is left as an exercise to the reader):</p>
<pre><code>test/unit/BarTests.java:
import junit.framework.TestCase;
public class BarTests extends TestCase {
    public void testTwo() {
        assertTrue(2==2);
    }
}
</code></pre><p>Then from the top of your Grails project, just run <code>grails test-app</code></p>
<pre><code>% grails test-app
...
-------------------------------------------------------
Running 2 Unit Tests...
Running test FooTests...
                    testOne...SUCCESS
Running test BarTests...
                    testTwo...SUCCESS
Unit Tests Completed in 155ms ...
-------------------------------------------------------
...
</code></pre><p>with more output in the <code>test/report/</code> directory.</p>
<p>btw, you can change the filename pattern with the config option
<code>grails.testing.patterns</code> (undocumented but mentioned on the
<a href="http://www.nabble.com/Re%3A-%27test-java%27-and-%27test-groovy%27-directories-p14857388.html">mailing list</a>).</p>


      </section>

  </article>

  <div id="comment-form">
        (comments are closed)
  </div>

  <section id="nav">
        <a class="footer-span plain" href="/2008/09/grails-gitignore">Previous: Grails .gitignore</a>

        <a class="footer-span plain" href="/2008/09/grails-logging">Next: Grails logging</a>
  </section>

  <footer>
    <a class="footer-span plain" rel="home" href="http://haxx.sinequanon.net/">Home</a>
  </footer>

</body>
</html>
