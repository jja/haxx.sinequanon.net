<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>haxx qua non - Updated Eagle_Fire Garfield Randomizer</title>
  <meta name="description" content="tips and tricks from a working coder">
  <link rel="stylesheet" type="text/css" href="/css/site.css" />
</head>
<body>

  <header>
    <h1>
      <a class="header-span plain" rel="home" href="http://haxx.sinequanon.net/">haxx qua non</a>
    </h1>
  </header>

  <article>

      <h1>Updated Eagle_Fire Garfield Randomizer</h1>

      <section id="meta">

          <div id="byline">
            by jja
            on <time datetime="2016-07-11T17:07:34-0600">2016-07-11</time>
          </div>

          Topics: <ul id="tags">
              <li class="tagitem">
                <a class="tag" href="/tag/"></a>
              </li>
          </ul>

      </section>

      <section id="post_content">

        <p>The comic strip Garfield is generally rather banal, but if the three panels
are selected randomly from the archive, then the resulting strip can be
surreal.</p>
<!-- more -->
<p>Below is an HTML/JS page to do just that, based on the original
<em>Eagle_Fire Garfield Randomizer</em> page.
The original URL of that site is lost--
please comment if you know it. I've udpated the code to use the full Garfield
archive (not including Sundays) and also display the date of each panel.
Enjoy, or perhaps be wildered!</p>
<p>Download, save locally and rename the file to .html. Then open with your web browser.
<a href="/wp-content/uploads/2016/07/garfield.html.txt">garfield.html</a></p>
<p><center></p>
<style type='text/css'>
    td {
     overflow: hidden;
     text-align: left;
     vertical-align: top;
     max-height: 200px;
     max-width: 180px;
     }
    img {
     position: absolute;
     }
</style>
<table border="1">
    <tr>
    <td width="200" height="180" id="td0"> </td>
    <td width="200" height="180" id="td1"> </td>
    <td width="200" height="180" id="td2"> </td>
    </tr>
    <tr>
    <td><input type="checkbox" id="ck0">Lock <span id="dt0"> </span></td>
    <td><input type="checkbox" id="ck1">Lock <span id="dt1"> </span></td>
    <td><input type="checkbox" id="ck2">Lock <span id="dt2"> </span></td>
    </tr>
</table>
<script>
    function fmt(n) {
     if (n < 10) return "0" + n;
     return n;
     }
    last = new Date(Date.now() - 62 * 86400000);
    last = new Date(last.getFullYear(),last.getMonth(),1);
    last = new Date(last.getTime() - 86400000);
    first = new Date(1978,6,19);
    function load() {
      for (i = 0; i < 3; i++) {
        if (document.getElementById("ck"+i).checked) continue;
        sunday = true
        while (sunday) {
          randt = new Date(Math.floor(
            first.getTime() + Math.random() * (last.getTime() - first.getTime())
            ));
          if (randt.getDay() != 0) sunday = false;
          }
        year = randt.getFullYear();
        month = randt.getMonth() + 1;
        day = randt.getDate();
        panel = Math.floor(Math.random() * 3);
        imgurl = "http://images.ucomics.com/comics/ga/" 
          + year + "/ga" + fmt(year % 100) + fmt(month) + fmt(day) + ".gif";
        tu = document.getElementById("td"+i);
        tu.background = imgurl;
        tu.style.background = "url(" + imgurl + ") " + -200 * panel + "px 0px";
        d = document.getElementById("dt"+i);
        d.textContent = "" + year + "-" + fmt(month) + "-" + fmt(day);
        }
      }
    load();
</script>
<p><br></p>
<p><input type="button" value="Reload" onClick="load()"></p>
<p></center></p>


      </section>

  </article>

  <div id="comment-form">
        (comments are closed)
  </div>

  <section id="nav">
        <a class="footer-span plain" href="/2015/12/grails-2-3-11-with-java8">Previous: Grails 2.3.11 with Java8</a>

        <a class="footer-span plain" href="/2016/08/gh-pages-setup">Next: GitHub pages clone setup</a>
  </section>

  <footer>
    <a class="footer-span plain" rel="home" href="http://haxx.sinequanon.net/">Home</a>
  </footer>

</body>
</html>
